# generate rsa key pair
openssl genrsa -out keypair.pem -aes128 4096

# export public key
openssl rsa -in keypair.pem -outform PEM -pubout -out public.pem

# export unencrypted private key (to be stored in template)
openssl rsa -in keypair.pem -out private.pem -outform PEM

# encrypt data
## windows
New-Password | cmd '/c openssl rsautl -inkey public.pem -pubin -encrypt | openssl enc -base64'
## linux
echo 'password' | openssl rsautl -inkey public.pem -pubin -encrypt | openssl enc -base64 > encrypted

# decrypt data
cat encrypted | openssl enc -d -base64 | openssl rsautl -inkey private.pem -decrypt
